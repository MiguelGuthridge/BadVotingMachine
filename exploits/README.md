# Exploits

## Break CSV

See [`break_csv.js`](./break_csv.js).

This exploit works by taking advantage of an unsanitised value
`candidate_name` in the `POST /vote` form. By using the developer tools
console to perform the `fetch` operation shown in the file, we can write a CSV
row that only contains one column to the `votes.csv` file. When the owners of
the voting machine attempt to collect the votes into `totals.csv` using the
`POST /culminate` route, the server attempts to read this CSV file. Upon
encountering the row with one column, the server gets an `IndexError` due to an
unchecked access `vote[1]` in the list of columns for that row, resulting in
the server giving a status code of `500`, and being unable to share the total
number of votes.

The ideal way to deliver this exploit would be using a USB rubber ducky, which
on being connected to the machine, opens the developer tools and enters the
code to perform the request.
